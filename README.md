# ИС «Диспетчер Суперкомьютера»
Task Manager for Supercomputer


### Описание
Диспетчер выполняет следующие функции:

1. Добавление задачи в очередь

2. Запуск задачи на выполнение(если есть свободные процессорные ядра)

3. Изменение приоритета задачи(что может приводить к действиям 1, 2, 3 как для данной, так и для других задач)

4. Фиксация факта завершения задачи

5. Полное удаление задачи из системы

После каждого изменения состояния системы происходит передиспетчеризация.

### Запуск

#### Создание .env файла

Для правильной работы docker-compose необходимо создать .env файл в корне проекта, где указать следующие пар-ры

- `DB_NAME` - Название Базы Данных
- `POSTGRES_USER` - Пользователь для Базы данных (По умолчанию postgres)
- `DB_HOST` - Указать db (Docker сам подставит URL контейнера с базой данных)
- `POSTGRES_PASSWORD` - Пароль для Базы Данных
- `DB_PORT` - Порт Базы данных (По умолчанию для PostgreSQL `5432`)
- `SECRET_KEY` - Секретный ключ для Хэширования пароля пользователя (можно сгенерировать с помощью команды `openssl rand -hex 32`)
- `EXPIRE` - Время для истекания токенов в секундах (По умолчанию `86400`)
- `FILE_PATH` - Путь для сохранения загружаемых Python программ
- `SSH_PASSPHRASE` - Пароль к ключу ssh (Если он есть)
- `SSH_USER` - Имя пользователя под которым будет осуществляться вход на машины (По умолчанию root)

#### Запуск проекта

##### В корне проекта необходимо выполнить команду:

```shell
docker-compose up --build
```

##### Если нет желания смотреть на логи:

```shell
docker-compose up -d --build
```
Это запустит контейнер в «откреплённом» режиме

##### Для того чтобы «убить» контейнеры:

```shell
docker-compose down -v
```

### Что можно доработать:

- [x] Добавить поддержку других языков (Добавлена возможность запускать C++ код с библиотекой MPI)
- [x] Добавить возможность подключаться к удалённым серверам по SSH и исполнять код на них

------
Author: deorz